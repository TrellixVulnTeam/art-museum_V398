import {
  __toESM,
  require_react
} from "./chunk-KMWXSJC7.js";

// node_modules/@trendyol-js/react-carousel/dist/es/index.js
var import_react = __toESM(require_react());
var s = function() {
  return (s = Object.assign || function(t2) {
    for (var e2, n2 = 1, r2 = arguments.length; n2 < r2; n2++)
      for (var i2 in e2 = arguments[n2])
        Object.prototype.hasOwnProperty.call(e2, i2) && (t2[i2] = e2[i2]);
    return t2;
  }).apply(this, arguments);
};
function a(t2, e2) {
  e2 === void 0 && (e2 = {});
  var n2 = e2.insertAt;
  if (t2 && typeof document != "undefined") {
    var r2 = document.head || document.getElementsByTagName("head")[0], i2 = document.createElement("style");
    i2.type = "text/css", n2 === "top" && r2.firstChild ? r2.insertBefore(i2, r2.firstChild) : r2.appendChild(i2), i2.styleSheet ? i2.styleSheet.cssText = t2 : i2.appendChild(document.createTextNode(t2));
  }
}
var l = "styles-module_carousel-base__3keqD";
var u = "styles-module_item-provider__YgMwz";
var c = "styles-module_item-container__a8zaY";
var f = "styles-module_item-tracker__3bypy";
var d = "styles-module_carousel-arrow__26sRw";
a(".styles-module_carousel-base__3keqD {\n	width: 100%;\n	box-sizing: border-box;\n	display: flex;\n	outline: none;\n	position: relative;\n}\n\n.styles-module_item-provider__YgMwz {\n	overflow: hidden;\n	width: 100%;\n	cursor: pointer;\n}\n\n.styles-module_item-container__a8zaY img {\n	-webkit-user-select: none;\n	        user-select: none;\n	-webkit-user-drag: none;\n}\n\n.styles-module_item-tracker__3bypy {\n	height: 100%;\n	display: flex;\n}\n\n.styles-module_carousel-arrow__26sRw {\n	z-index: 1;\n}\n");
var h;
var m = function(e2) {
  return import_react.default.createElement("button", { className: d, onClick: e2.onClick, "data-direction": e2.direction });
};
!function(t2) {
  t2[t2.Right = -1] = "Right", t2[t2.Left = 1] = "Left";
}(h || (h = {}));
var v = function() {
  function t2(t3, e2) {
    this.arr = t3, this.currentIndex = e2;
  }
  return t2.prototype.next = function() {
    var t3 = this.currentIndex, e2 = this.arr;
    return this.currentIndex = t3 < e2.length - 1 ? t3 + 1 : 0, this.current();
  }, t2.prototype.prev = function() {
    var t3 = this.currentIndex, e2 = this.arr;
    return this.currentIndex = t3 > 0 && t3 < e2.length ? t3 - 1 : e2.length - 1, this.current();
  }, t2.prototype.current = function() {
    return this.arr[this.currentIndex];
  }, t2;
}();
var g = function(t2, e2, n2) {
  return n2 * t2 * e2;
};
var p = function(t2) {
  var e2 = t2.itemCount, n2 = t2.itemsToShow, r2 = t2.infinite, i2 = t2.current, o2 = t2.hideArrows;
  if (o2 !== void 0 && o2)
    return { left: false, right: false };
  var s2 = e2 > n2;
  return r2 ? { left: s2, right: s2 } : { left: s2 && i2 !== 0, right: s2 && i2 + n2 < e2 };
};
var w = function(t2, e2, n2) {
  if (!n2)
    return t2;
  for (var r2 = Array.from(t2), i2 = new v(t2, 0), o2 = 0; o2 < e2; o2++)
    r2.unshift(i2.prev());
  return r2;
};
function y(t2) {
  return t2.nativeEvent instanceof MouseEvent ? t2.nativeEvent.pageX : t2.nativeEvent instanceof TouchEvent ? t2.nativeEvent.changedTouches[0].pageX : 0;
}
function _(t2, e2, n2, r2, i2) {
  if (n2 && n2.length < e2.length)
    return w(e2, r2, i2);
  var o2 = t2.map(function(t3) {
    return e2.find(function(e3) {
      return t3.key === e3.key;
    });
  });
  return o2.some(function(t3) {
    return t3 === void 0;
  }) ? w(e2, r2, i2) : o2;
}
var b = function(t2) {
  var e2 = (0, import_react.useState)(typeof window == "undefined" ? 0 : window.innerWidth), n2 = e2[0], o2 = e2[1];
  (0, import_react.useLayoutEffect)(function() {
    var e3 = function() {
      var e4 = n2 - window.innerWidth;
      o2(window.innerWidth), t2(e4);
    };
    return window.addEventListener("resize", e3), function() {
      return window.removeEventListener("resize", e3);
    };
  }, []);
};
var k = function(e2) {
  var n2 = (0, import_react.useState)(200), i2 = n2[0], a2 = n2[1], l2 = (0, import_react.useCallback)(function(t2) {
    if (t2 !== null) {
      var n3 = t2.getBoundingClientRect().width / e2.show;
      a2(n3), e2.widthCallBack(n3);
    }
  }, [i2]);
  e2.responsive && b(function(t2) {
    a2(i2 - t2);
  });
  var d2 = (0, import_react.useState)({ initial: e2.transform, start: 0, isDown: false, drag: 0, finished: true, pointers: true }), m2 = d2[0], v2 = d2[1], g2 = function(t2) {
    t2.persist(), v2(s(s({}, m2), { isDown: true, start: y(t2), initial: e2.transform, finished: false }));
  }, p2 = function(t2) {
    if (t2.persist(), !m2.finished) {
      if (Math.abs(m2.drag) < i2 * e2.swipeOn)
        return e2.dragCallback(e2.transform), v2({ initial: e2.transform, start: 0, isDown: false, drag: 0, finished: true, pointers: true });
      e2.slideCallback(m2.drag > 0 ? h.Right : h.Left), v2(s(s({}, m2), { drag: 0, isDown: false, finished: true, pointers: true }));
    }
  }, w2 = function(t2) {
    if (t2.persist(), m2.isDown) {
      var n3 = y(t2);
      v2(s(s({}, m2), { drag: m2.start - n3, pointers: Math.abs(m2.start - n3) < e2.triggerClickOn }));
    }
  }, _2 = e2.swiping ? { onTouchCancel: p2, onTouchEnd: p2, onTouchMove: w2, onTouchStart: g2, onMouseDown: g2, onMouseLeave: p2, onMouseUp: p2, onMouseMove: w2 } : {};
  return import_react.default.createElement("div", { ref: l2, className: u }, import_react.default.createElement("div", s({ "data-testid": "trackList" }, _2, { className: f, style: { transform: "translateX(" + (e2.transform - m2.drag) + "px)", transition: "transform " + e2.transition + "s ease 0s", width: i2 * e2.items.length } }), e2.items.map(function(e3, n3) {
    return import_react.default.createElement("div", { key: n3, style: { width: i2, pointerEvents: m2.pointers ? "all" : "none" }, className: c }, e3);
  })));
};
var L = { children: [], show: 1, slide: 1, transition: 0.5, swiping: false, swipeOn: 1, responsive: false, infinite: true, className: "", useArrowKeys: false, a11y: {}, dynamic: false, paginationCallback: null, pageCount: 0, rightArrow: null, leftArrow: null, autoSwipe: null, navigation: null, triggerClickOn: Number.MIN_SAFE_INTEGER, hideArrows: false };
var E = "styles-module_carousel-navigation__1g_vs";
a(".styles-module_carousel-navigation__1g_vs {\n	display: flex;\n	position: absolute;\n	bottom: 0;\n}\n");
var C = function(e2) {
  var n2 = e2.items, r2 = e2.current, i2 = e2.onClick, o2 = e2.factory;
  return import_react.default.createElement("div", { className: E }, n2.map(function(e3, n3) {
    return import_react.default.createElement("div", { onMouseOver: function() {
      return i2(n3);
    }, key: n3 }, o2(r2 === n3));
  }));
};
var x = function(i2) {
  var o2, a2, u2, c2, f2 = s(s({}, L), i2), d2 = w(f2.children, f2.navigation ? f2.children.length - 1 : f2.slide, f2.infinite), y2 = (0, import_react.useState)(d2), b2 = y2[0], E2 = y2[1], x2 = (0, import_react.useRef)(d2), R2 = (0, import_react.useState)(0), T2 = R2[0], M2 = R2[1], A2 = (0, import_react.useState)({ transform: 0, transition: 0, isSliding: false }), S = A2[0], N = A2[1], I = (0, import_react.useState)(0), D = I[0], W = I[1], O = (0, import_react.useState)(p({ itemCount: f2.children.length, itemsToShow: f2.show, infinite: f2.infinite, current: D, hideArrows: f2.hideArrows })), z = O[0], X = O[1], B = (u2 = i2.children, c2 = (0, import_react.useRef)(), (0, import_react.useEffect)(function() {
    c2.current = u2;
  }), c2.current), q = (0, import_react.useState)(0), K = q[0], Y = q[1], j = (0, import_react.useRef)(false), F = (0, import_react.useRef)(null), P = (0, import_react.useRef)(), U = typeof f2.navigation == "function";
  f2.dynamic && (0, import_react.useEffect)(function() {
    var t2 = _(x2.current, f2.children, B, f2.slide, f2.infinite);
    E2(t2), x2.current = t2, K < f2.pageCount && B && (B == null ? void 0 : B.length) < f2.children.length && (H(h.Right), Y(K + 1));
  }, [f2.children]), (0, import_react.useEffect)(function() {
    G();
  }, []);
  var G = function() {
    clearTimeout(P.current), F && typeof f2.autoSwipe == "number" && f2.autoSwipe > f2.transition && (P.current = setTimeout(function() {
      F.current && F.current.click();
    }, f2.autoSwipe));
  }, H = function(t2, e2) {
    if (!(S.isSliding || t2 === h.Right && !z.right || t2 === h.Left && !z.left)) {
      if (f2.paginationCallback && t2 === h.Right && K < f2.pageCount - 1 && !j.current)
        return j.current = true, void f2.paginationCallback(t2);
      var n2 = f2.children, r2 = function(t3, e3, n3, r3) {
        var i4 = t3 - r3 * e3;
        return i4 < 0 ? n3 + i4 : n3 <= i4 ? i4 - n3 : i4;
      }(D, f2.slide, n2.length, t2), i3 = typeof e2 == "number" ? e2 - D : -1 * t2, o3 = f2.infinite ? U ? function(t3, e3, n3, r3, i4, o4) {
        var s2 = function(t4, e4, n4) {
          var r4 = t4 + e4 >= n4.length ? t4 + e4 - n4.length : t4 + e4;
          return r4 < 0 ? n4.length + r4 : r4;
        }(n3, i4, t3), a3 = Math.floor(e3.length / 2), l2 = new v(t3, s2), u3 = Array.from(e3);
        switch (+o4) {
          case h.Left:
            for (var c3 = 0; c3 < a3; c3++) {
              var f3 = a3 - (Math.abs(i4) + c3) - r3;
              (f3 < 0 || !u3[f3]) && u3.unshift(l2.current()), l2.prev();
            }
            break;
          case h.Right:
            for (c3 = 0; c3 < a3; c3++)
              u3[a3 + i4 + c3 + r3] || u3.push(l2.current()), l2.next();
        }
        return u3;
      }(n2, b2, r2, f2.show, i3, t2) : function(t3, e3, n3, r3, i4, o4) {
        var s2 = new v(t3, n3), a3 = Array.from(e3);
        switch (+o4) {
          case h.Left:
            for (var l2 = i4; l2 >= 0; l2--)
              (i4 - l2 < 0 || !a3[l2 - i4]) && a3.unshift(s2.current()), s2.prev();
            break;
          case h.Right:
            for (l2 = 0; l2 < r3 + i4; l2++)
              a3[2 * i4 + l2] || a3.push(s2.current()), s2.next();
        }
        return a3;
      }(n2, b2, r2, f2.show, f2.slide, t2) : b2;
      f2.infinite && t2 === h.Right && (E2(o3), x2.current = o3), N({ transform: S.transform + Math.abs(i3) * g(T2, f2.slide, t2), transition: f2.transition, isSliding: true }), W(U && typeof e2 == "number" ? e2 : r2), X(p({ itemCount: n2.length, itemsToShow: f2.show, infinite: f2.infinite, current: r2, hideArrows: f2.hideArrows })), setTimeout(function() {
        if (f2.infinite) {
          var n3 = U ? function(t3, e3, n4) {
            return n4 === h.Left ? t3.slice(0, e3) : t3.slice(e3);
          }(t2 === h.Right ? x2.current : o3, function(t3, e3, n4, r3) {
            return typeof t3 == "number" ? r3 === h.Right ? t3 - e3 + 1 : n4 : -1 * r3;
          }(e2, r2, i3, t2), t2) : function(t3, e3, n4) {
            return n4 === h.Left ? t3.slice(0, -1 * e3) : t3.slice(e3);
          }(t2 === h.Right ? x2.current : o3, f2.slide, t2);
          E2(n3), x2.current = n3;
        }
        N({ transform: f2.infinite ? g(T2, f2.navigation ? f2.children.length - 1 : f2.slide, h.Right) : S.transform + g(T2, f2.slide, t2), transition: 0, isSliding: false }), G();
      }, 1e3 * f2.transition), j.current = false;
    }
  };
  return import_react.default.createElement("div", s({}, f2.a11y, { "data-testid": "carousel", tabIndex: 0 }, f2.useArrowKeys ? { onKeyDown: function(t2) {
    t2.keyCode === 37 ? H(h.Left) : t2.keyCode === 39 && H(h.Right);
  } } : {}, { className: l + " " + f2.className }), z.left && import_react.default.createElement("div", { onClick: function() {
    return H(h.Left);
  } }, (o2 = f2.leftArrow) !== null && o2 !== void 0 ? o2 : import_react.default.createElement(m, { direction: "left" })), import_react.default.createElement(k, s({}, f2, { transition: S.transition, items: x2.current, transform: S.transform, slideCallback: function(t2) {
    H(t2);
  }, dragCallback: function(t2) {
    N({ transform: t2, transition: f2.transition, isSliding: false }), setTimeout(function() {
      return N(s(s({}, S), { transition: 0 }));
    }, 1e3 * f2.transition);
  }, widthCallBack: function(t2) {
    M2(t2), N({ transform: f2.infinite ? g(t2, f2.navigation ? f2.children.length - 1 : f2.slide, h.Right) : 0, transition: 0, isSliding: false });
  } })), z.right && import_react.default.createElement("div", { onClick: function() {
    return H(h.Right);
  }, ref: F }, (a2 = f2.rightArrow) !== null && a2 !== void 0 ? a2 : import_react.default.createElement(m, { direction: "right" })), U && import_react.default.createElement(C, { factory: f2.navigation, items: f2.children, current: D, onClick: function(t2) {
    D !== t2 && H(t2 > D ? h.Right : h.Left, t2);
  } }));
};
var R = "styles-module_sliderBase__swkx1";
var T = "styles-module_slider__o0fqa";
var M = "styles-module_sliding__3T6T6";
a(".styles-module_sliderBase__swkx1 {\n	width: 100%;\n	position: relative;\n}\n\n.styles-module_slider__o0fqa {\n	display: flex;\n	overflow-x: auto;\n	scrollbar-width: none; /* Firefox 64 */\n	-ms-overflow-style: none; /* Internet Explorer 11 */\n}\n\n.styles-module_slider__o0fqa::-webkit-scrollbar {\n	/** WebKit */\n	display: none;\n}\n\n.styles-module_slider__o0fqa > * {\n	flex: 0 0 auto;\n}\n\n.styles-module_sliding__3T6T6 > * {\n	pointer-events: none;\n}\n");
var A = function(n2) {
  var i2 = n2.children, s2 = n2.className, a2 = n2.leftIcon, l2 = n2.rightIcon, u2 = (0, import_react.useRef)(null), c2 = (0, import_react.useState)(false), f2 = c2[0], d2 = c2[1], m2 = (0, import_react.useState)({ startX: 0, scrollLeft: 0 }), v2 = m2[0], g2 = m2[1], p2 = function() {
    var t2 = u2.current;
    return { left: !!t2 && t2.scrollLeft > 0, right: !!t2 && t2.scrollWidth > t2.scrollLeft + t2.offsetWidth };
  }, w2 = (0, import_react.useState)(p2()), y2 = w2[0], _2 = w2[1], b2 = function(t2) {
    _2(p2());
  }, k2 = (0, import_react.useCallback)(function(t2) {
    t2 !== null && (Object.defineProperty(u2, "current", { value: t2 }), _2(p2()), t2.addEventListener("scroll", b2));
  }, [u2, i2]), L2 = function(t2) {
    d2(false), _2(p2()), u2.current.classList.remove(M);
  }, E2 = function(t2) {
    var e2 = function(t3) {
      for (var e3, n4, r2 = u2.current, i3 = t3 === h.Left ? r2.scrollLeft + r2.offsetWidth : r2.scrollLeft, o2 = 0, s3 = 0, a3 = Array.from(r2.children); s3 < a3.length; s3++) {
        var l3 = a3[s3], c3 = (e3 = l3, n4 = void 0, n4 = getComputedStyle(e3), e3.offsetWidth + (parseInt(n4.marginLeft, 10) || 0) + (parseInt(n4.marginRight, 10) || 0));
        if ((o2 += c3) >= i3) {
          var f3 = t3 === h.Left ? o2 - i3 : c3;
          return (r2.offsetWidth - f3) * t3;
        }
      }
      return r2.offsetWidth;
    }(t2), n3 = u2.current.scrollLeft;
    C2(500, e2, n3);
  }, C2 = function(t2, e2, n3) {
    for (var r2 = 0, i3 = 0; r2 <= t2; i3++)
      window.setTimeout(x2, r2, i3 * e2 / 100 + n3), r2 += t2 / 100;
  }, x2 = function(t2) {
    u2.current.scrollLeft = t2;
  }, A2 = function(e2, n3, r2) {
    return import_react.default.createElement("div", { "data-arrow": n3, onClick: function() {
      return E2(e2);
    } }, r2 != null ? r2 : import_react.default.createElement("button", null));
  };
  return import_react.default.createElement("div", { className: R + " " + s2, "data-testid": "carousel" }, y2.left && A2(h.Right, "left", a2), y2.right && A2(h.Left, "right", l2), import_react.default.createElement("div", { ref: k2, onMouseDown: function(t2) {
    d2(true), g2({ startX: t2.pageX - u2.current.offsetLeft, scrollLeft: u2.current.scrollLeft });
  }, onMouseLeave: L2, onMouseUp: L2, onMouseMove: function(t2) {
    if (f2) {
      t2.preventDefault(), u2.current.classList.add(M);
      var e2 = t2.pageX - u2.current.offsetLeft - v2.startX;
      u2.current.scrollLeft = v2.scrollLeft - e2;
    }
  }, className: T }, i2));
};
export {
  x as Carousel,
  A as ScrollingCarousel
};
//# sourceMappingURL=@trendyol-js_react-carousel.js.map
